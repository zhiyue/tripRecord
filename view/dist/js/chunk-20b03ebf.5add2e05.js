(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b03ebf"],{2543:function(n,o,t){},b09d:function(n,o,t){"use strict";var a=t("2543"),e=t.n(a);e.a},b5aa:function(n,o,t){"use strict";t.r(o);var a=function(){var n=this,o=n.$createElement,t=n._self._c||o;return t("div",{staticClass:"map"},[t("div",{attrs:{id:"map"}}),t("md-button",{attrs:{type:"primary"},on:{click:n.mapOnDelete}},[n._v("停止实时定位")]),t("md-button",{attrs:{type:"primary"},on:{click:n.mapPath}},[n._v("轨迹图")]),t("md-button",{attrs:{type:"primary"},on:{click:n.pathSimplifier}},[n._v("巡航图")])],1)},e=[],i=t("e4e2"),l=(t("7cfd"),t("7090")),c={name:"mapLocation",components:Object(i["a"])({},l["a"].name,l["a"]),mounted:function(){this.createTrip(),this.watchMap(),setTimeout((function(){l["h"].hide()}),15e3)},data:function(){return{map:null,watchID:null}},methods:{watchMap:function(){var n=this;this.watchID=navigator.geolocation.watchPosition((function(n){console.log("实时定位中---");var o=n.coords;console.log([o.latitude,o.longitude])}),(function(){l["h"].failed("实时定位出错，请尝试刷新"),n.mapOnDelete()}))},createTrip:function(){l["h"].loading("加载中...");var n=this;this.map=new window.AMap.Map("map",{resizeEnable:!0,zoom:11,center:[126.60421,43.83378]}),this.map.plugin(["AMap.Geolocation","AMap.ControlBar"],(function(){var o=new window.AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new window.AMap.Pixel(10,20),zoomToAccuracy:!0});n.map.addControl(o),o.getCurrentPosition((function(n,o){l["h"].hide(),"complete"===n?(console.log("定位成功"),console.log(o)):(console.log("定位失败"),console.log(o))})),window.AMap.event.addListener(o,"complete",n.localOnComplete),window.AMap.event.addListener(o,"error",n.localOnError),n.map.addControl(new window.AMap.ControlBar)})),this.map.on("complete",(function(){console.log("地图加载完成")}))},localOnComplete:function(n){console.log("手动定位成功"),console.log(n)},localOnError:function(n){console.log("手动定位出错"),console.log(n),l["h"].failed("定位出错请尝试刷新")},mapOnDelete:function(){var n=this;navigator.geolocation.clearWatch(n.watchID),console.log("停止实时定位")},mapPath:function(){var n=this,o=[[126.567402,43.923187],[126.567402,43.923129],[126.56744,43.923098],[126.56759,43.923024],[126.567794,43.923024],[126.567928,43.922912],[126.568169,43.922819],[126.568486,43.922723],[126.568598,43.922881],[126.568727,43.923074],[126.56884,43.92319],[126.569274,43.923055],[126.569564,43.92348],[126.569859,43.923944],[126.569172,43.924199]],t=new window.AMap.Marker({map:n.map,position:[126.567402,43.923187],icon:"https://webapi.amap.com/images/car.png",offset:new window.AMap.Pixel(-26,-13),autoRotation:!0,angle:-90}),a=(new window.AMap.Polyline({map:n.map,path:o,showDir:!0,strokeColor:"#28F",strokeWeight:6}),new window.AMap.Polyline({map:n.map,strokeColor:"red",strokeWeight:6}));t.on("moving",(function(n){a.setPath(n.passedPath)})),n.map.setFitView(),t.moveAlong(o,200)},pathSimplifier:function(){var n=this;window.AMapUI.load(["ui/misc/PathSimplifier","lib/$"],(function(o,t){if(o.supportCanvas){var a=new o({zIndex:100,map:n.map,getPath:function(n,o){for(var t=n.points,a=[],e=0,i=t.length;e<i;e++)a.push(t[e].lnglat);return a},getHoverTitle:function(n,o,t){return t>=0?n.name+"，"+n.points[t].name:n.name+"，点数量"+n.points.length},renderOptions:{renderAllPointsIfNumberBelow:100}});window.pathSimplifierIns=a,a.setData([{name:"路线0",points:[{name:"点a",lnglat:[116.405289,39.904987]},{name:"点b",lnglat:[113.964458,40.54664]},{name:"点c",lnglat:[111.47836,41.135964]},{name:"点d",lnglat:[108.949297,41.670904]},{name:"点e",lnglat:[106.380111,42.149509]},{name:"点f",lnglat:[103.774185,42.56996]},{name:"点g",lnglat:[101.135432,42.930601]},{name:"点h",lnglat:[98.46826,43.229964]},{name:"点i",lnglat:[95.777529,43.466798]},{name:"点j",lnglat:[93.068486,43.64009]},{name:"点k",lnglat:[90.34669,43.749086]},{name:"点l",lnglat:[87.61792,43.793308]}]}]);var e=a.createPathNavigator(0,{loop:!0,speed:1e6});e.start(),a.on("pointClick",(function(n,o){console.log("Click: "+o.pathData.points[o.pointIndex].name)}))}else alert("当前环境不支持 Canvas！")}))}}},r=c,p=(t("b09d"),t("4e82")),s=Object(p["a"])(r,a,e,!1,null,"12432dc9",null);o["default"]=s.exports}}]);
//# sourceMappingURL=chunk-20b03ebf.5add2e05.js.map